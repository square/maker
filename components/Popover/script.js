!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../../components/Theme"),require("../../components/TransitionFadeIn"),require("../../utils/debug"),require("../../utils/get-contrast"),require("../../utils/maker-colors"),require("../../utils/transitions"),require("@linusborg/vue-simple-portal"),require("@popperjs/core"),require("colord"),require("vue"));else if("function"==typeof define&&define.amd)define(["../../components/Theme","../../components/TransitionFadeIn","../../utils/debug","../../utils/get-contrast","../../utils/maker-colors","../../utils/transitions","@linusborg/vue-simple-portal","@popperjs/core","colord","vue"],t);else{var o="object"==typeof exports?t(require("../../components/Theme"),require("../../components/TransitionFadeIn"),require("../../utils/debug"),require("../../utils/get-contrast"),require("../../utils/maker-colors"),require("../../utils/transitions"),require("@linusborg/vue-simple-portal"),require("@popperjs/core"),require("colord"),require("vue")):t(e["../../components/Theme"],e["../../components/TransitionFadeIn"],e["../../utils/debug"],e["../../utils/get-contrast"],e["../../utils/maker-colors"],e["../../utils/transitions"],e["@linusborg/vue-simple-portal"],e["@popperjs/core"],e.colord,e.vue);for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(this,(function(e,t,o,r,n,i,s,p,c,a){return(()=>{var l={89:function(e){e.exports=function(){"use strict";var e=function(e){var t=e.props,o=e.data,r=e.parent,n=function e(t){return Array.isArray(t)?(o=t=>e(t),t.reduce(((e,t)=>e.concat(o(t))),[])):null!==(r=t)&&"object"==typeof r?function(e){let t=[];for(const o in e)e[o]&&t.push(o);return t}(t):"string"==typeof t&&t?[t]:[];var o,r}([o.staticClass,o.class]);if(n){var i,s,p,c=(s=(i=t).body,p=i.document,s?window.document.body:!!p&&window.document.documentElement);if(c){var a=function(e,t){if(!t.length)return;const{classList:o}=e;return t.filter((e=>{if(!o.contains(e))return o.add(e),!0}))}(c,n),l=function(){!function(e,t){if(!t||!t.length)return;let o;for(;o=t.shift();)e.classList.remove(o);e.classList.length||e.removeAttribute("class")}(c,a)};r.$once("hook:beforeUpdate",l),r.$once("hook:destroyed",l)}}},t=Object.prototype.hasOwnProperty,o=function(e,t,o){var r="&"===t[0],n="~"===(t=r?t.slice(1):t)[0],i="!"===(t=n?t.slice(1):t)[0];return{o:e,t:t=i?t.slice(1):t,i:o,u:{once:n,capture:i,passive:r}}},r=function(e){var r,n,i,s=e.props,p=e.listeners,c=e.parent,a=function(e,r){var n,i,s=[];for(var p in r)if(n=r,i=p,t.call(n,i)){var c=r[p],a=o(e,p,c);a.o.addEventListener(a.t,a.i,a.u),s.push(a)}return s}((n=(r=s).body,i=r.document,n?window.document.body:i?window.document:window),p),l=function(){!function(e){for(var t;t=e.shift();)t.o.removeEventListener(t.t,t.i,t.u)}(a)};c.$once("hook:beforeUpdate",l),c.$once("hook:destroyed",l)},n=function(t){r(t),e(t)};return{name:"pseudo-window",functional:!0,props:{document:Boolean,body:Boolean},render:function(e,t){return t.parent._isMounted?n(t):t.parent.$once("hook:mounted",(function(){n(t)})),t.slots().default}}}()},219:t=>{"use strict";t.exports=e},403:e=>{"use strict";e.exports=t},233:e=>{"use strict";e.exports=o},174:e=>{"use strict";e.exports=r},906:e=>{"use strict";e.exports=n},387:e=>{"use strict";e.exports=i},112:e=>{"use strict";e.exports=s},779:e=>{"use strict";e.exports=p},235:e=>{"use strict";e.exports=c},103:e=>{"use strict";e.exports=a}},u={};function d(e){var t=u[e];if(void 0!==t)return t.exports;var o=u[e]={exports:{}};return l[e].call(o.exports,o,o.exports,d),o.exports}d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var o in t)d.o(t,o)&&!d.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var v={};return(()=>{"use strict";d.r(v),d.d(v,{MPopover:()=>w,MPopoverContent:()=>q,MPopoverLayer:()=>m,PopoverAPIKey:()=>s});var e=d(387),t=d(89),o=d.n(t),r=d(103),n=d.n(r);const i=Symbol("PopoverConfig"),s=Symbol("PopoverLayer");let p=0;const c=()=>(p+=1,p);function a(){const e=c(),t="popover-portal-".concat(e);return{api:n().observable({currentInstance:void 0,actionEl:void 0,ignoreEls:[],clickSrc:void 0,layerId:e,target:t,targetSelector:"#".concat(t),setPopover(e){this.currentInstance&&this.closePopover(),e&&e.actionEl&&(this.actionEl=e.actionEl,this.ignoreEls=e.ignoreEls,this.currentInstance=e.id)},closePopover(){this.currentInstance=void 0}}),layerId:e,target:t}}const l={provide(){const{api:e}=a();return this.popoverApi||(this.popoverApi=e),{[s]:e}}},u={components:{PseudoWindow:o()},inject:{popoverApi:s},data:()=>({fadeInFn:e.fadeInFn,fadeOutFn:e.fadeOutFn}),popoverMixin:l,usePopoverLayer:()=>{const{api:e}=a(),t=(0,r.inject)(s,void 0);return(0,r.provide)(s,e),t||e},beforeDestroy(){this.popoverApi.closePopover()},methods:{handleBlur(){document.activeElement!==document.body&&this.popoverApi.closePopover()},trackClickSrc({target:e}){this.popoverApi.clickSrc=e},handleClick(){var e,t;const o=this.$refs.portal;if(!o||!this.popoverApi.clickSrc||!this.popoverApi.currentInstance)return;const r=o.contains(this.popoverApi.clickSrc),n=null===(e=this.popoverApi.actionEl)||void 0===e?void 0:e.contains(this.popoverApi.clickSrc),i=null===(t=this.popoverApi.ignoreEls)||void 0===t?void 0:t.some((e=>{var t;return null===(t=e.contains)||void 0===t?void 0:t.call(e,this.popoverApi.clickSrc)}));r||n||i||this.popoverApi.closePopover(),this.popoverApi.clickSrc=void 0}}},f={PopoverLayer:"ðŸ“š0-0-0-semantic-releaseMBxkh"};function h(e,t,o,r,n,i,s,p){var c,a="function"==typeof e?e.options:e;if(t&&(a.render=t,a.staticRenderFns=o,a._compiled=!0),r&&(a.functional=!0),i&&(a._scopeId="data-v-"+i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},a._ssrRegister=c):n&&(c=p?function(){n.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(a.functional){a._injectStyles=c;var l=a.render;a.render=function(e,t){return c.call(t),l(e,t)}}else{var u=a.beforeCreate;a.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:a}}const m=h(u,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("pseudo-window",{on:{"&blur":function(t){return e.handleBlur.apply(null,arguments)}}},[o("pseudo-window",{on:{mousedown:e.trackClickSrc,touchstart:e.trackClickSrc,"!click":function(t){return e.handleClick.apply(null,arguments)},touchend:e.handleClick}},[o("div",{ref:"portal",class:e.$s.PopoverLayer,attrs:{id:e.popoverApi.target}})])],1)],1)}),[],!1,(function(e){this.$s=f.locals||f}),null,null).exports;var y=d(233),g=d(403),b=d(112),P=d(779);const _={PopoverInstance:"ðŸ“š0-0-0-semantic-release_G_vp"};const A=h({props:{actionEl:{type:void 0,required:!0},popperConfig:{type:Object,default:void 0}},mounted(){this.popper=(0,P.createPopper)(this.actionEl,this.$el,this.popperConfig),this.resizeObserver=this.followPopoverAction(),this.$emit("popover-instance:new-popper",this.popper)},beforeDestroy(){this.resizeObserver.disconnect()},updated(){this.popper.update()},methods:{followPopoverAction(){const e=new ResizeObserver((()=>{this.popper.update(),this.$emit("resize")}));return e.observe(this.actionEl),e.observe(document.body),e}}},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.$s.PopoverInstance},[e._t("default")],2)}),[],!1,(function(e){this.$s=_.locals||_}),null,null).exports,S=[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",options:{padding:0,altBoundary:!0}},{name:"minWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:{styles:e,rects:t}}){e.popper.minWidth="".concat(t.reference.offsetWidth,"px")},effect({state:{elements:e}}){e.popper.style.minWidth="".concat(e.reference.offsetWidth,"px")}}];const w=h({components:{Portal:b.Portal,PopoverInstance:A,MTransitionFadeIn:g.MTransitionFadeIn},inject:{popoverApi:{from:s,default:()=>(0,y.throwError)("No popover layer detected","Popover")},popoverConfig:{from:i,default:{config:void 0}}},props:{placement:{type:String,default:"bottom-start",validator:e=>["auto","auto-start","auto-end","top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].includes(e)},modifiers:{type:Array,default:()=>S}},data(){const e=this;return{id:c(),popperToDestroy:void 0,actionAPI:{open(...t){e.isOpen||Boolean(e.popperToDestroy)||e.popoverApi.setPopover({actionEl:e.actionEl,ignoreEls:t,id:e.id})},close(){e.popoverApi.closePopover()},toggle(...t){e.isOpen?e.actionAPI.close():e.actionAPI.open(...t)}}}},computed:{actionEl(){if(1===this.$el.children.length)return this.$el.children[0]},popperConfig(){return{placement:this.placement,modifiers:this.modifiers}},isOpen(){return this.popoverApi.currentInstance===this.id}},watch:{isOpen(e){e?this.$emit("open"):this.$emit("close")}},methods:{open(...e){this.actionAPI.open(...e)},close(){this.actionAPI.close()},toggle(...e){this.actionAPI.toggle(...e)},setPopperToDestroy(e){this.popperToDestroy=e},destroyPopper(){var e;null===(e=this.popperToDestroy)||void 0===e||e.destroy(),this.popperToDestroy=void 0}}},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{display:"contents"}},[e._t("action",null,null,e.actionAPI),e._v(" "),o("portal",{attrs:{selector:e.popoverApi.targetSelector}},[o("div",[o("m-transition-fade-in",{on:{"after-leave":e.destroyPopper}},[e.isOpen?o("popover-instance",{attrs:{"action-el":e.actionEl,"popper-config":e.popperConfig},on:{"popover-instance:new-popper":e.setPopperToDestroy}},[e._t("content")],2):e._e()],1)],1)])],2)}),[],!1,null,null,null).exports;var x=d(235),C=d(219),E=d(174),T=d(906),k=d.n(T);const $={components:{MTheme:C.MTheme},props:{color:{type:String,default:void 0,validator:e=>(0,x.colord)(e).isValid()},bgColor:{type:String,default:void 0,validator:e=>(0,x.colord)(e).isValid()},padding:{type:String,default:"24px",validator:e=>!d.g.CSS||d.g.CSS.supports("padding",e)}},computed:{styles(){return{"--padding":this.padding}},theme(){let e={};return this.bgColor&&(e=k()(this.bgColor)),this.color&&(e.heading=(0,E.getContrast)(e.background,this.color),e.body=(0,E.getContrast)(e.background,this.color,E.WCAG_CONTRAST_TEXT)),{colors:e}}}},I={PopoverContent:"ðŸ“š0-0-0-semantic-releaseX9Gka"};const q=h($,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("m-theme",{class:e.$s.PopoverContent,style:e.styles,attrs:{theme:e.theme}},[e._t("default")],2)}),[],!1,(function(e){this.$s=I.locals||I}),null,null).exports})(),v})()}));
//# sourceMappingURL=script.js.map