!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../../components/Theme"),require("../../components/TouchCapture"),require("../../components/TransitionFadeIn"),require("../../components/TransitionResponsive"),require("../../utils/RenderFn"),require("../../utils/css-validator"),require("../../utils/transitions"),require("lodash/throttle"),require("vue"));else if("function"==typeof define&&define.amd)define(["../../components/Theme","../../components/TouchCapture","../../components/TransitionFadeIn","../../components/TransitionResponsive","../../utils/RenderFn","../../utils/css-validator","../../utils/transitions","lodash/throttle","vue"],t);else{var o="object"==typeof exports?t(require("../../components/Theme"),require("../../components/TouchCapture"),require("../../components/TransitionFadeIn"),require("../../components/TransitionResponsive"),require("../../utils/RenderFn"),require("../../utils/css-validator"),require("../../utils/transitions"),require("lodash/throttle"),require("vue")):t(e["../../components/Theme"],e["../../components/TouchCapture"],e["../../components/TransitionFadeIn"],e["../../components/TransitionResponsive"],e["../../utils/RenderFn"],e["../../utils/css-validator"],e["../../utils/transitions"],e["lodash/throttle"],e.vue);for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(this,(function(e,t,o,n,s,i,r,a,l){return(()=>{var c={89:function(e){e.exports=function(){"use strict";var e=function(e){var t=e.props,o=e.data,n=e.parent,s=function e(t){return Array.isArray(t)?(o=t=>e(t),t.reduce(((e,t)=>e.concat(o(t))),[])):null!==(n=t)&&"object"==typeof n?function(e){let t=[];for(const o in e)e[o]&&t.push(o);return t}(t):"string"==typeof t&&t?[t]:[];var o,n}([o.staticClass,o.class]);if(s){var i,r,a,l=(r=(i=t).body,a=i.document,r?window.document.body:!!a&&window.document.documentElement);if(l){var c=function(e,t){if(!t.length)return;const{classList:o}=e;return t.filter((e=>{if(!o.contains(e))return o.add(e),!0}))}(l,s),u=function(){!function(e,t){if(!t||!t.length)return;let o;for(;o=t.shift();)e.classList.remove(o);e.classList.length||e.removeAttribute("class")}(l,c)};n.$once("hook:beforeUpdate",u),n.$once("hook:destroyed",u)}}},t=Object.prototype.hasOwnProperty,o=function(e,t,o){var n="&"===t[0],s="~"===(t=n?t.slice(1):t)[0],i="!"===(t=s?t.slice(1):t)[0];return{o:e,t:t=i?t.slice(1):t,i:o,u:{once:s,capture:i,passive:n}}},n=function(e){var n,s,i,r=e.props,a=e.listeners,l=e.parent,c=function(e,n){var s,i,r=[];for(var a in n)if(s=n,i=a,t.call(s,i)){var l=n[a],c=o(e,a,l);c.o.addEventListener(c.t,c.i,c.u),r.push(c)}return r}((s=(n=r).body,i=n.document,s?window.document.body:i?window.document:window),a),u=function(){!function(e){for(var t;t=e.shift();)t.o.removeEventListener(t.t,t.i,t.u)}(c)};l.$once("hook:beforeUpdate",u),l.$once("hook:destroyed",u)},s=function(t){n(t),e(t)};return{name:"pseudo-window",functional:!0,props:{document:Boolean,body:Boolean},render:function(e,t){return t.parent._isMounted?s(t):t.parent.$once("hook:mounted",(function(){s(t)})),t.slots().default}}}()},219:t=>{"use strict";t.exports=e},138:e=>{"use strict";e.exports=t},403:e=>{"use strict";e.exports=o},216:e=>{"use strict";e.exports=n},296:e=>{"use strict";e.exports=s},948:e=>{"use strict";e.exports=i},387:e=>{"use strict";e.exports=r},400:e=>{"use strict";e.exports=a},103:e=>{"use strict";e.exports=l}},u={};function d(e){var t=u[e];if(void 0!==t)return t.exports;var o=u[e]={exports:{}};return c[e].call(o.exports,o,o.exports,d),o.exports}d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var o in t)d.o(t,o)&&!d.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return(()=>{"use strict";d.r(p),d.d(p,{MDialog:()=>c,MDialogContent:()=>f,MDialogLayer:()=>$,dialogApi:()=>e,useDialogLayer:()=>S});const e=Symbol("dialogApiKey");var t=d(400),o=d.n(t),n=d(948),s=d.n(n),i=d(219);const r={name:"Dialog",components:{MTouchCapture:d(138).MTouchCapture},inject:{dialogApi:e,theme:{default:(0,i.defaultTheme)(),from:i.MThemeKey}},props:{bgColor:{type:String,default:void 0,validator:s()("color")},color:{type:String,default:void 0,validator:s()("color")},closeOnSwipeDown:{type:Boolean,default:!0}},data(){return{dialogStyles:{},isScrolledToTop:!0,onScroll:o()(this.setScrollTop,800),preventDefault:!1}},computed:{...(0,i.resolveThemeableProps)("dialog",["bgColor","color"]),style(){return{"--bg-color":this.resolvedBgColor,"--color":this.resolvedColor,...this.dialogStyles}}},methods:{setScrollTop(){var e,t,o;if(!this.closeOnSwipeDown)return;const n=(null===(e=this.$refs)||void 0===e||null===(t=e.dialog)||void 0===t||null===(o=t.$el)||void 0===o?void 0:o.scrollTop)||0;this.isScrolledToTop=n<=0},onSwipeDown(){this.closeOnSwipeDown&&this.isScrolledToTop&&(this.preventDefault=!0,this.dialogApi.close())},onDragDown(e){this.closeOnSwipeDown&&this.isScrolledToTop&&(this.preventDefault=!0,this.dialogStyles={transform:"translateY(".concat(e.changeY,"px)"),"backface-visibility":"hidden",overflow:"hidden",transition:"none"})},onDragEnd(e){if(!this.closeOnSwipeDown)return;this.isScrolledToTop&&e.changeY>50?this.dialogApi.close():(this.preventDefault=!1,this.dialogStyles={})}}},a={Dialog:"ðŸ“š0-0-0-semantic-releaseejzGH"};function l(e,t,o,n,s,i,r,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=o,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=a?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}const c=l(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("m-touch-capture",{ref:"dialog",class:e.$s.Dialog,style:e.style,attrs:{"prevent-default":e.preventDefault},on:{"on-drag-down":e.onDragDown,"on-drag-end":e.onDragEnd,"on-swipe-down":e.onSwipeDown},nativeOn:{scroll:function(t){return e.onScroll.apply(null,arguments)}}},[e._t("default")],2)}),[],!1,(function(e){this.$s=a.locals||a}),null,null).exports;const u={DialogContent:"ðŸ“š0-0-0-semantic-releaseaHCsK"};const f=l({},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.$s.DialogContent},[e._t("default")],2)}),[],!1,(function(e){this.$s=u.locals||u}),null,null).exports;var h=d(103),v=d.n(h),m=d(89),g=d.n(m),y=d(403),T=d(216),w=d(387),b=d(296);function _(){return{state:v().observable({renderFn:void 0,options:{}}),open(e,t={}){return this.state.renderFn=e,this.state.options=t,()=>!this.state.renderFn||this.state.renderFn===e&&this.close()},async close(e){var t,o;return!this.state.renderFn||!("function"==typeof this.state.options.beforeCloseHook&&!await this.state.options.beforeCloseHook(e))&&(this.state.renderFn=void 0,null===(t=(o=this.state.options).afterCloseHook)||void 0===t||t.call(o,e),!0)}}}const S=()=>{const t=(0,h.inject)(e,void 0),o=_();return(0,h.provide)(e,o),{dialogApi:t||o}},D={provide(){const t=_();return this.dialogApi||(this.dialogApi=t),{[e]:t}}},C={components:{RenderFn:d.n(b)(),PseudoWindow:g(),MTransitionFadeIn:y.MTransitionFadeIn,MTransitionResponsive:T.MTransitionResponsive},inject:{dialogApi:e},inheritAttrs:!1,apiMixin:D,useDialogLayer:S,data:()=>({transitions:[{minWidth:w.mobileMinWidth,enter:w.springUpFn,leave:w.springDownFn},{minWidth:w.tabletMinWidth,enter:w.floatUpFn,leave:w.floatDownFn}]}),methods:{closeOnClickOutside(e){const{closeOnClickOutside:t}=this.dialogApi.state.options,{dialog:o}=this.$refs;o&&t&&!o.contains(e.target)&&this.dialogApi.close()},closeOnEsc(){const{closeOnEsc:e}=this.dialogApi.state.options,{dialog:t}=this.$refs;t&&e&&this.dialogApi.close()}}},x={Layer:"ðŸ“š0-0-0-semantic-release_4EhS",DialogLayer:"ðŸ“š0-0-0-semantic-release_5MSu",DialogContentWrapper:"ðŸ“š0-0-0-semantic-releaseaXIC6",Translucent:"ðŸ“š0-0-0-semantic-releaseFHIJw",disableScroll:"ðŸ“š0-0-0-semantic-releasen_iBq"};const $=l(C,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:e.$s.Layer},[o("m-transition-fade-in",[e.dialogApi.state.renderFn?o("div",{class:e.$s.Translucent}):e._e()]),e._v(" "),o("m-transition-responsive",{attrs:{transitions:e.transitions}},[e.dialogApi.state.renderFn?o("div",{class:e.$s.DialogLayer,on:{"!click":function(t){return e.closeOnClickOutside.apply(null,arguments)}}},[o("pseudo-window",{class:e.$s.disableScroll,attrs:{body:""}}),e._v(" "),o("pseudo-window",{attrs:{document:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeOnEsc.apply(null,arguments)}}}),e._v(" "),o("div",{ref:"dialog",class:e.$s.DialogContentWrapper},[o("render-fn",{attrs:{"render-fn":e.dialogApi.state.renderFn}})],1)],1):e._e()])],1)}),[],!1,(function(e){this.$s=x.locals||x}),null,null).exports})(),p})()}));
//# sourceMappingURL=script.js.map