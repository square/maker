{"version":3,"file":"maker-colors.js","mappings":"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","sources":["webpack://@square/maker/webpack/universalModuleDefinition","webpack://@square/maker/external \"colord\"","webpack://@square/maker/external \"colord/plugins/a11y\"","webpack://@square/maker/external \"colord/plugins/lab\"","webpack://@square/maker/external \"colord/plugins/mix\"","webpack://@square/maker/external \"lodash/cloneDeep\"","webpack://@square/maker/./src/components/Theme/src/default-colors.cjs","webpack://@square/maker/webpack/bootstrap","webpack://@square/maker/webpack/runtime/compat get default export","webpack://@square/maker/webpack/runtime/define property getters","webpack://@square/maker/webpack/runtime/hasOwnProperty shorthand","webpack://@square/maker/webpack/runtime/make namespace object","webpack://@square/maker/./src/utils/get-contrast.js","webpack://@square/maker/./src/utils/maker-colors.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"colord\"), require(\"colord/plugins/a11y\"), require(\"colord/plugins/lab\"), require(\"colord/plugins/mix\"), require(\"lodash/cloneDeep\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"colord\", \"colord/plugins/a11y\", \"colord/plugins/lab\", \"colord/plugins/mix\", \"lodash/cloneDeep\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"colord\"), require(\"colord/plugins/a11y\"), require(\"colord/plugins/lab\"), require(\"colord/plugins/mix\"), require(\"lodash/cloneDeep\")) : factory(root[\"colord\"], root[\"colord/plugins/a11y\"], root[\"colord/plugins/lab\"], root[\"colord/plugins/mix\"], root[\"lodash/cloneDeep\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE__235__, __WEBPACK_EXTERNAL_MODULE__366__, __WEBPACK_EXTERNAL_MODULE__473__, __WEBPACK_EXTERNAL_MODULE__836__, __WEBPACK_EXTERNAL_MODULE__552__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__235__;","module.exports = __WEBPACK_EXTERNAL_MODULE__366__;","module.exports = __WEBPACK_EXTERNAL_MODULE__473__;","module.exports = __WEBPACK_EXTERNAL_MODULE__836__;","module.exports = __WEBPACK_EXTERNAL_MODULE__552__;","// note: this is intentionally written as a cjs module\n// so it can be used by build files, please do not\n// refactor this into an es6 module\nmodule.exports = function defaultColors() {\n\treturn {\n\t\t'neutral-0': '#ffffff',\n\t\t'neutral-10': '#f1f1f1',\n\t\t'neutral-20': '#d3d3d3',\n\t\t'neutral-80': '#707070',\n\t\t'neutral-90': '#1b1b1b',\n\t\t'neutral-100': '#000000',\n\t\tbackground: '#ffffff',\n\t\theading: '#000000',\n\t\tbody: '#000000',\n\t\televation: '#ffffff',\n\t\toverlay: 'rgba(0, 0, 0, 0.32)',\n\t\tprimary: '#006aff',\n\t\tcontextualPrimary: {\n\t\t\tfill: '#006aff',\n\t\t\tonFill: '#ffffff',\n\t\t\tsubtle: '#eff2f5',\n\t\t\ttext: '#1c54c7',\n\t\t},\n\t\terror: {\n\t\t\tfill: '#cd2026',\n\t\t\tonFill: '#ffffff',\n\t\t\ttext: '#a82826',\n\t\t\tsubtle: '#f6eceb',\n\t\t},\n\t\twarning: {\n\t\t\tfill: '#ffbf00',\n\t\t\tonFill: '#000000',\n\t\t\ttext: '#7e662a',\n\t\t\tsubtle: '#f9eecf',\n\t\t},\n\t\tsuccess: {\n\t\t\tfill: '#008000',\n\t\t\tonFill: '#ffffff',\n\t\t\ttext: '#0a7A06',\n\t\t\tsubtle: '#ebf1eb',\n\t\t},\n\t};\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { colord, extend } from 'colord';\nimport a11yPlugin from 'colord/plugins/a11y';\n\nextend([a11yPlugin]);\n\nexport const DARK_COLOR_LUMINANCE_THRESHOLD = 0.32;\nexport const WCAG_CONTRAST_TEXT = 4.5;\nexport const WCAG_CONTRAST_TITLE = 3;\n\nexport function getContrast(background, foreground, contrastThreshold = WCAG_CONTRAST_TITLE) {\n\tlet contrast = foreground;\n\n\tif (!foreground || colord(foreground).contrast(background) < contrastThreshold) {\n\t\tconst isDarkColor = colord(background).luminance() < DARK_COLOR_LUMINANCE_THRESHOLD;\n\t\tcontrast = isDarkColor ? '#ffffff' : '#000000';\n\t}\n\n\treturn contrast;\n}\n","import { colord, extend } from 'colord';\nimport a11yPlugin from 'colord/plugins/a11y';\nimport mixPlugin from 'colord/plugins/mix';\nimport labPlugin from 'colord/plugins/lab';\nimport { cloneDeep } from 'lodash';\nimport {\n\tWCAG_CONTRAST_TITLE,\n\tDARK_COLOR_LUMINANCE_THRESHOLD,\n\tgetContrast,\n} from './get-contrast';\nimport defaultColors from '../components/Theme/src/default-colors.cjs';\n\nconst DEFAULT_COLORS = defaultColors();\n\nextend([a11yPlugin, mixPlugin, labPlugin]);\n\nconst NEUTRAL_RATIOS = {\n\tlight: {\n\t\t'neutral-0': 0,\n\t\t'neutral-10': 0.05,\n\t\t'neutral-20': 0.155,\n\t\t'neutral-80': 0.527,\n\t\t'neutral-90': 0.9,\n\t\t'neutral-100': 1,\n\t},\n\tdark: {\n\t\t'neutral-0': 0,\n\t\t'neutral-10': 0.225,\n\t\t'neutral-20': 0.37,\n\t\t'neutral-80': 0.55,\n\t\t'neutral-90': 0.95,\n\t\t'neutral-100': 1,\n\t},\n};\n\nconst CONTEXTUAL_COLORS = {\n\tlight: {\n\t\terror: {\n\t\t\tfill: '#cd2026',\n\t\t\ttext: '#a82826',\n\t\t\tsubtle: '#f6eceb',\n\t\t},\n\t\twarning: {\n\t\t\tfill: '#ffbf00',\n\t\t\ttext: '#7e662a',\n\t\t\tsubtle: '#f9eecf',\n\t\t},\n\t\tsuccess: {\n\t\t\tfill: '#008000',\n\t\t\ttext: '#0a7A06',\n\t\t\tsubtle: '#ebf1eb',\n\t\t},\n\n\t},\n\tdark: {\n\t\terror: {\n\t\t\tfill: '#cd2026',\n\t\t\ttext: '#ff7566',\n\t\t},\n\t\twarning: {\n\t\t\tfill: '#ffbf00',\n\t\t\ttext: '#ffbf00',\n\t\t},\n\t\tsuccess: {\n\t\t\tfill: '#008000',\n\t\t\ttext: '#64cc52',\n\t\t},\n\t},\n};\n\nfunction isDark(hex) {\n\treturn colord(hex).luminance() < DARK_COLOR_LUMINANCE_THRESHOLD;\n}\n\nfunction enoughContrastForFill(hex1, hex2) {\n\tconst MAKER_DELTA_FILL = 0.25;\n\treturn colord(hex1).delta(hex2) >= MAKER_DELTA_FILL;\n}\n\nfunction enoughContrastForText(hex1, hex2) {\n\treturn colord(hex1).contrast(hex2) >= WCAG_CONTRAST_TITLE;\n}\n\nfunction generateContextualPrimaryColors(\n\tbackground = DEFAULT_COLORS.background,\n\tprimary = DEFAULT_COLORS.primary,\n\tneutralColors,\n) {\n\tconst backgroundContrast = getContrast(background);\n\tconst primaryHsl = colord(primary).toHsl();\n\tconst primaryColors = {};\n\tif (enoughContrastForFill(primary, background)) {\n\t\tprimaryColors.fill = primary;\n\t\tconst ADJUST_PRIMARY_FOR_TEXT = 0.2;\n\t\tprimaryColors.text = enoughContrastForText(primary, background)\n\t\t\t? colord(primary).mix(backgroundContrast, ADJUST_PRIMARY_FOR_TEXT).toHex()\n\t\t\t: backgroundContrast;\n\t\tprimaryColors.onFill = getContrast(primaryColors.fill);\n\t} else {\n\t\tprimaryColors.fill = backgroundContrast;\n\t\tprimaryColors.text = backgroundContrast;\n\t\tprimaryColors.onFill = primary;\n\t}\n\tif (colord(background).toHex() === '#ffffff') {\n\t\tconst SUBTLE_SATURATION = 25;\n\t\tconst SUBTLE_LIGHTNESS = 95;\n\t\tprimaryColors.subtle = colord({\n\t\t\th: primaryHsl.h,\n\t\t\ts: SUBTLE_SATURATION,\n\t\t\tl: SUBTLE_LIGHTNESS,\n\t\t}).toHex();\n\t} else {\n\t\tprimaryColors.subtle = neutralColors['neutral-10'];\n\t}\n\treturn primaryColors;\n}\n\n/**\n * @param {String} background\n * @return {Object}\n */\nexport default function makerColors(\n\tbackground = DEFAULT_COLORS.background,\n\tprimary = DEFAULT_COLORS.primary,\n) {\n\tconst isDarkBg = isDark(background);\n\tconst backgroundContrast = getContrast(background);\n\tconst neutralRatios = isDarkBg ? NEUTRAL_RATIOS.dark : NEUTRAL_RATIOS.light;\n\tconst neutralColors = {};\n\n\t// derive neutral colors\n\tObject.entries(neutralRatios).forEach(([name, ratio]) => {\n\t\tneutralColors[name] = colord(background).mix(backgroundContrast, ratio).toHex();\n\t});\n\n\t// derive contextual colors\n\tconst contextualColors = isDarkBg\n\t\t? cloneDeep(CONTEXTUAL_COLORS.dark) : cloneDeep(CONTEXTUAL_COLORS.light);\n\n\t// derive contextual primary colors\n\tcontextualColors.contextualPrimary = generateContextualPrimaryColors(\n\t\tbackground,\n\t\tprimary,\n\t\tneutralColors,\n\t);\n\n\t// derive contextual error, warning, success colors\n\t['error', 'warning', 'success'].forEach((name) => {\n\t\tif (!enoughContrastForFill(contextualColors[name].fill, background)) {\n\t\t\tcontextualColors[name].onFill = contextualColors[name].fill;\n\t\t\tcontextualColors[name].fill = backgroundContrast;\n\t\t}\n\t\tif (!enoughContrastForText(contextualColors[name].text, background)) {\n\t\t\tcontextualColors[name].text = backgroundContrast;\n\t\t}\n\t\tif (colord(background).toHex() !== '#ffffff') {\n\t\t\tcontextualColors[name].subtle = neutralColors['neutral-10'];\n\t\t}\n\t\tif (!contextualColors[name].onFill) {\n\t\t\tcontextualColors[name].onFill = getContrast(contextualColors[name].fill);\n\t\t}\n\t});\n\n\treturn {\n\t\tprimary,\n\t\tbackground,\n\t\theading: getContrast(background),\n\t\tbody: getContrast(background),\n\t\t...neutralColors,\n\t\t...contextualColors,\n\t\televation: isDarkBg ? neutralColors['neutral-20'] : '#ffffff',\n\t\toverlay: isDarkBg ? 'rgba(255, 255, 255, 0.32)' : 'rgba(0, 0, 0, 0.32)',\n\t};\n}\n"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE__235__","__WEBPACK_EXTERNAL_MODULE__366__","__WEBPACK_EXTERNAL_MODULE__473__","__WEBPACK_EXTERNAL_MODULE__836__","__WEBPACK_EXTERNAL_MODULE__552__","background","heading","body","elevation","overlay","primary","contextualPrimary","fill","onFill","subtle","text","error","warning","success","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","extend","getContrast","foreground","contrastThreshold","contrast","colord","DEFAULT_COLORS","defaultColors","NEUTRAL_RATIOS","light","dark","CONTEXTUAL_COLORS","enoughContrastForFill","hex1","hex2","enoughContrastForText","makerColors","isDarkBg","hex","backgroundContrast","neutralRatios","neutralColors","name","contextualColors","primaryHsl","primaryColors","ADJUST_PRIMARY_FOR_TEXT","SUBTLE_SATURATION","SUBTLE_LIGHTNESS","h","s","l","generateContextualPrimaryColors"],"sourceRoot":""}